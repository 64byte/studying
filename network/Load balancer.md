# Load Balancer

### 개요

오랜 과거에는 클라이언트와 서버의 관계가 N:1이었을 수도 있겠지만, 현재는 수많은 네트워크 사용자가 있기 때문에 N:1 관계로는 서버를 운용할 수 없다.

서버의 사양을 증설하는(Scale-up, 수직 확장)에는 한계가 있기 때문에, 서버의 개수를 늘릴 수 밖에(Scale-out, 수평 확장) 없는 것이다.

이 때, N개의 클라이언트를 M개의 서버로 적절하게 부하 분산을 하기 위해서는 어떤 장치가 필요하다.
그것이 Load Balancer의 역할이다.

### OSI 7계층

- 어플리케이션 계층
- 표현 계층
- 세션 계층
- 전송 계층
- 네트워크 계층
- 네트워크 액세스 계층
- 물리 계층

Load Balancer의 이해를 위해서는 OSI 7계층의 사전 지식이 필요하다.

L2 ~ L7의 Load Balancer가 있다. 각 계층은 아래와 같이 로드 밸런싱을 한다.

- L2: 네트워크 액세스 계층에서 Mac 주소를 바탕으로 로드 밸런싱
- L3: 네트워크 계층에서 IP 주소를 바탕으로 로드 밸런싱

- L4: 전송 계층에서 아이피와 포트를 이용해 로드 밸런싱
- L7: 어플리케이션 계층에서 아이피, 포트, 쿠키, 세션 등을 이용해 로드 밸런싱, ALB라고 불림

### 로드밸런서 알고리즘

- Round Robin
- Least Connection
- Weighted Least Connections
- Fastest Response Time









